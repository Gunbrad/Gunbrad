---
title: 如何汉化魔兽地图
published: 2025-05-26
description: ''
image: ''
tags: [记录,游戏]
category: '记录'
draft: false 
lang: ''
---

记录我汉化的一张魔兽地图

---

# 如何汉化一张魔兽地图

> `这张图以太空，异形，变种等等科幻元素为背景，满足了我童年对于世界的极大好奇。回忆给它镶上了金边，这张图放在今天也仍让我上头，虽然平时没时间和心思玩游戏了，但出于对我心中那个小孩的尊重，我仍然乐意投入时间成本来汉化它`

为什么要汉化这张图？起因是我的游戏好友逆逝混迹在discord上，跟原作者混熟后，居然成功让原作者批准我们汉化它了！由于kk对战平台上的作者一直不更新，于是我们决定亲手汉化新版本

## 一：查找教程

    魔兽争霸3是牢游戏了，2002年就有这款游戏了，网上几乎找不到关于汉化的教程。所幸在b站找到了[肥羊的汉化教程](https://www.bilibili.com/read/readlist/rl149421?spm_id_from=333.1369.opus.module_collection.click)，并在后续找到了肥羊的粉丝群和博客，他和群u在汉化过程中给了我很大的帮助！

## 二：汉化过程

1. 提取源文本

    根据肥羊的教程，我使用火龙和MPQ提取出了原地图的触发器文件和文本文件。由于是原作者提供的未加密版本，因此我只需要专注于触发器文件内的事件文本的汉化和文本文件的汉化即可

2. 接入DeepL的API批量翻译

    `DeepL`是一个翻译网站，提供优质的翻译服务。首先我上[DeepL官网](https://www.deepl.com)注册了账号，并申请了免费计划，这样我就能使用DeepL的API进行批量翻译了！

3. 编程实现批量翻译

    其实翻译很简单，只需要调用DeepL的api就好了，尤其是翻译结构化的文本文件，这并不是件难事。困难的是编写过滤器，从海量代码段中筛选出需要汉化的文本。由于大模型受限于上下文长度无法帮我总结过滤条件，因此我只好手动总结过滤条件：

- 函数及函数参数

- 变量

- 文件路径和文件扩展名

- 颜色设置文本

总结过后喂给大模型（使用的是新出的Claude4，好用！），大模型自动帮你写好过滤器，就可以实现机翻了

4. 校对和测试

    不出意外的出意外了，大模型写的过滤器还是有问题。我最初的方案是对触发器文件每5000行都拷进游戏内进行测试，若崩溃则说明这个代码段有问题，但工作量实在太大了。不过肥羊推荐了编辑jass文本的工具`EverEdit`,装上jass扩展后就能高亮显示出语法错误，很快就找到问题在哪了——对于原本存在双引号的语句，过滤时忽略了其转义字符，将一段文本转为多段文本导致有些中文字符出现在双引号外，真是个低级错误啊。

5. 地图加密和上传

    接下来就是地图加密的，使用W3x Map Optimizer进行最复杂的加密，保护原作者的地图，避免侵权。然后上传到kk对战平台。

后期的精翻工作还在进行中....

说实话，汉化完之后梳理一遍，其实不难（主要是肥羊写的教程非常轮椅，一学就会了），但我刚开始碰壁较多，浪费挺多时间的。不过无所谓，这就是热爱！

---
